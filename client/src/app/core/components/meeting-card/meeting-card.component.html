<div class="sk-meeting-card p-3" *ngIf="innerWidth >= widthThreshold">
  <table>
    <tr>
      <td class="left" style="width: 30%">
        <p *ngIf="meeting.type == 'open'">Tertulia abierta</p>
        <p *ngIf="meeting.type == 'private'">Tertulia cerrada</p>
      </td>
      <td>
        <h5>
          <strong>Hablemos de: {{ meeting.theme }}</strong>
        </h5>
      </td>
      <td style="width: 30%">
        <p *ngIf="type === 'available'">
          <strong>Quedan {{ meeting.availableSlots }} cupos</strong>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <table class="pt-2" *ngIf="type === 'available'">
          <tr>
            <td>
              <i class="bi bi-person-circle"></i>
            </td>
            <td>
              <a href="">{{ meeting.Host.first_name }}</a>
            </td>
          </tr>
        </table>
      </td>
      <td>
        <p>
          {{ meeting.startTime | date: "EEEE  d" }} de
          {{ meeting.startTime | date: "MMMM" }}
          {{ meeting.startTime | date: "HH:mm" }} a
          {{ meeting.endTime | date: "HH:mm" }} hrs.
        </p>
      </td>
      <td>
        <table>
          <tr>
            <td>
              <p>
                Faltan: {{ remainingTime.days }}d:{{ remainingTime.hours }}h:{{
                  remainingTime.minutes
                }}m
              </p>
            </td>
            <td>
              <button
                class="sk-button secondary"
                *ngIf="type === 'ready'"
                (click)="goToMeeting()"
              >
                Ingresar
              </button>
              <button class="sk-button secondary" *ngIf="type === 'offered'">
                No puedo asistir
              </button>
              <button
                class="sk-button secondary"
                *ngIf="type === 'available'"
                (click)="requestMeeting()"
              >
                Agregar a mi calendario
              </button>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
  <div
    *ngIf="type === 'available'"
    class="pt-2 justify description"
    [ngClass]="
      seeMore
        ? 'pt-2 justify description see-more'
        : ' pt-2 justify description see-less'
    "
  >
    <p *ngIf="!seeMore">
      {{ meeting.description | shorten: 150 }}
      <span class="length-toggle" (click)="seeMore = !seeMore">ver más</span>
    </p>

    <p *ngIf="seeMore">
      {{ meeting.description }}
      <span class="length-toggle" (click)="seeMore = !seeMore">ver menos</span>
    </p>
  </div>
</div>
<div class="sk-meeting-card p-2 left" *ngIf="innerWidth < widthThreshold">
  <div class="pt-2">
    <p *ngIf="meeting.type == 'public'">Tertulia abierta</p>
    <p *ngIf="meeting.type == 'private'">Tertulia cerrada</p>
  </div>
  <div class="pt-2">
    <h5>
      <strong>Hablemos de: {{ meeting.theme }}</strong>
    </h5>
  </div>
  <div class="pt-2">
    <p>
      {{ meeting.startTime | date: "EEEE  d" }} de
      {{ meeting.startTime | date: "MMMM" }}
      {{ meeting.startTime | date: "HH:mm" }} a
      {{ meeting.endTime | date: "HH:mm" }} hrs.
    </p>
  </div>
  <div class="pt-2" *ngIf="type === 'available'">
    <table>
      <tr>
        <td>
          <i class="bi bi-person-circle"></i>
        </td>
        <td>
          <a href="">{{ meeting.Host.first_name }}</a>
        </td>
      </tr>
    </table>
  </div>
  <div
    class="pt-2 justify description"
    [ngClass]="
      seeMore
        ? 'pt-2 justify description see-more'
        : ' pt-2 justify description see-less'
    "
    *ngIf="type === 'available'"
  >
    <p *ngIf="!seeMore">
      {{ meeting.description | shorten: 50:40 }}
      <span class="length-toggle" (click)="seeMore = !seeMore">ver más</span>
    </p>

    <p *ngIf="seeMore">
      {{ meeting.description }}
      <span class="length-toggle" (click)="seeMore = !seeMore">ver menos</span>
    </p>
  </div>
  <div class="pt-2 center">
    <p>
      <strong
        >Faltan: {{ remainingTime.days }}d:{{ remainingTime.hours }}h:{{
          remainingTime.minutes
        }}m</strong
      >
    </p>
  </div>
  <div class="row justify-content-center pt-2">
    <button class="sk-button secondary" *ngIf="type === 'offered'">
      No puedo asistir
    </button>
    <button
      class="sk-button secondary"
      *ngIf="type === 'ready'"
      (click)="goToMeeting()"
    >
      Ingresar
    </button>
    <button
      class="sk-button secondary"
      *ngIf="type === 'available'"
      (click)="requestMeeting()"
    >
      Agregar a mi calendario
    </button>
  </div>
</div>
